<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>å¯é€‰é“¾è¿ç®—ç¬¦ | MingYuan&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="æè¿°å¯é€‰é“¾è¿ç®—ç¬¦ï¼ˆoptional chaining operatorï¼‰å³?.è¿ç®—ç¬¦ã€‚å®ƒå¯ä»¥è·å–å¯¹è±¡çš„å±æ€§æˆ–è°ƒç”¨æ–¹æ³•ï¼Œå¦‚æœå¯¹è±¡æ˜¯ undefined æˆ– nullï¼Œé‚£ä¹ˆä¼šè¿”å› undefinedï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ›é”™ã€‚ 12345678910111213const adventurer &#x3D; &amp;#123;    name: &amp;#x27;Alice&amp;#x27;,    cat: &amp;#123;">
<meta property="og:type" content="article">
<meta property="og:title" content="å¯é€‰é“¾è¿ç®—ç¬¦">
<meta property="og:url" content="https://acmu.github.io/2022/11/04/JavaScript/%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6/index.html">
<meta property="og:site_name" content="MingYuan&#39;s Blog">
<meta property="og:description" content="æè¿°å¯é€‰é“¾è¿ç®—ç¬¦ï¼ˆoptional chaining operatorï¼‰å³?.è¿ç®—ç¬¦ã€‚å®ƒå¯ä»¥è·å–å¯¹è±¡çš„å±æ€§æˆ–è°ƒç”¨æ–¹æ³•ï¼Œå¦‚æœå¯¹è±¡æ˜¯ undefined æˆ– nullï¼Œé‚£ä¹ˆä¼šè¿”å› undefinedï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ›é”™ã€‚ 12345678910111213const adventurer &#x3D; &amp;#123;    name: &amp;#x27;Alice&amp;#x27;,    cat: &amp;#123;">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-11/04_20:00_jOkYeL.png">
<meta property="article:published_time" content="2022-11-04T22:52:49.000Z">
<meta property="article:modified_time" content="2023-03-09T04:56:07.511Z">
<meta property="article:author" content="MingYuan">
<meta property="article:tag" content="JavaScript">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-11/04_20:00_jOkYeL.png">
  
    <link rel="alternate" href="/my-blog/atom.xml" title="MingYuan's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/my-blog/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/my-blog/css/style.css">

  
    
<link rel="stylesheet" href="/my-blog/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.0.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/my-blog/" id="logo">MingYuan&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/my-blog/" id="subtitle">æ˜è¿œåšå®¢</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/my-blog/">Home</a>
        
          <a class="main-nav-link" href="/my-blog/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/my-blog/atom.xml" title="RSS è®¢é˜…"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="æœç´¢"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="æœç´¢"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://acmu.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-JavaScript/å¯é€‰é“¾æ“ä½œç¬¦" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/my-blog/2022/11/04/JavaScript/%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6/" class="article-date">
  <time class="dt-published" datetime="2022-11-04T22:52:49.000Z" itemprop="datePublished">2022-11-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      å¯é€‰é“¾è¿ç®—ç¬¦
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="æè¿°"><a href="#æè¿°" class="headerlink" title="æè¿°"></a>æè¿°</h2><p>å¯é€‰é“¾è¿ç®—ç¬¦ï¼ˆoptional chaining operatorï¼‰å³<code>?.</code>è¿ç®—ç¬¦ã€‚å®ƒå¯ä»¥è·å–å¯¹è±¡çš„å±æ€§æˆ–è°ƒç”¨æ–¹æ³•ï¼Œå¦‚æœå¯¹è±¡æ˜¯ undefined æˆ– nullï¼Œé‚£ä¹ˆä¼šè¿”å› undefinedï¼Œè€Œä¸æ˜¯ç›´æ¥æŠ›é”™ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> adventurer = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Alice&#x27;</span>,</span><br><span class="line">    <span class="attr">cat</span>: &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;Dinah&#x27;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dogName = adventurer.dog?.name;</span><br><span class="line"><span class="built_in">console</span>.log(dogName);</span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(adventurer.someNonExistentMethod?.());</span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br></pre></td></tr></table></figure>

<h3 id="è¯­æ³•"><a href="#è¯­æ³•" class="headerlink" title="è¯­æ³•"></a>è¯­æ³•</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">obj.val?.prop</span><br><span class="line">obj.val?.[expr]</span><br><span class="line">obj.func?.(args)</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„è¿™é‡Œæ–¹æ³•å’Œå±æ€§å˜é‡çš„ä½¿ç”¨ã€‚</p>
<p>ç®€å•æ¥è¯´ï¼š<code>?.</code>è¿ç®—ç¬¦å¾ˆåƒ<code>.</code>è¿ç®—ç¬¦ï¼Œé™¤äº†å®ƒä¸ä¼šæŠ¥é”™ã€‚å¦‚æœ <code>?.</code>è¿ç®—ç¬¦å‰é¢çš„å†…å®¹æ˜¯ undefined æˆ– nullï¼Œé‚£ä¹ˆåé¢æ¥çš„å±æ€§çš„è·å–æˆ–æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸ä¼šæŠ›é”™ï¼Œå¹¶ä¸”è¿”å› undefinedã€‚</p>
<h2 id="åœºæ™¯"><a href="#åœºæ™¯" class="headerlink" title="åœºæ™¯"></a>åœºæ™¯</h2><h3 id="è·å–å±æ€§"><a href="#è·å–å±æ€§" class="headerlink" title="è·å–å±æ€§"></a>è·å–å±æ€§</h3><p>åœ¨ä¹‹å‰ï¼Œå¦‚æœä½ æƒ³è¦æ¢ç´¢å¯¹è±¡æ˜¯å¦å­˜åœ¨å±æ€§ï¼Œè¦è¿™æ ·ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedProp = obj.first &amp;&amp; obj.first.second;</span><br></pre></td></tr></table></figure>

<p>è¿™åœ¨ JS ä¸­æ˜¯æƒ¯ç”¨æ¨¡å¼ï¼Œä½†ä»–æœ‰ä¸€ä¸‹é—®é¢˜ï¼š</p>
<ol>
<li>å½“åµŒå¥—å±‚çº§å¾ˆæ·±æ—¶ï¼Œä»£ç å†—ä½™ï¼Œè¿‡äºå•°å—¦ã€‚</li>
<li>å½“<code>obj.first</code>çš„å€¼æ˜¯ Falsy çš„æ—¶å€™ï¼Œæ¯”å¦‚<code>0</code>ï¼Œé‚£ä¹ˆ<code>nestedProp</code>çš„å€¼å°±ä¼šå˜æˆ<code>0</code>ï¼Œè€Œä¸æ˜¯æœŸæœ›çš„ <code>obj.first.second</code> çš„å€¼æˆ–è€…<code>undefined</code></li>
</ol>
<p>ä½†å¦‚æœä½ ä½¿ç”¨<code>?.</code>è¿ç®—ç¬¦ï¼Œé‚£å°±å¾ˆå¥ˆæ–¯ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedProp = obj.first?.second;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·å°±è§£å†³äº†ä»¥ä¸Šä¸¤ä¸ªé—®é¢˜ã€‚</p>
<blockquote>
<p>å½“ç„¶ï¼Œä½ å¯èƒ½è§è¿‡å¦ä¸€ç§è§£å†³æ–¹æ¡ˆï¼Œå°±æ˜¯ <a target="_blank" rel="noopener" href="https://lodash.com/docs/4.17.15#get">lodash çš„ get æ–¹æ³•</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">_.get(obj, <span class="string">&#x27;first.second&#x27;</span>, <span class="literal">undefined</span>);</span><br></pre></td></tr></table></figure>

<p>è¯´å®è¯ï¼Œæˆ‘æ›´å–œæ¬¢è¿™ä¸ªï¼Œå› ä¸ºå®ƒæ›´å¼ºå¤§ï¼Œå¯æƒœçš„æ˜¯ï¼Œè¿™å¹¶ä¸æ˜¯è¯­è¨€æ ‡å‡† ğŸ˜­</p>
</blockquote>
<p>æ›´å‡†ç¡®æ¥è¯´ï¼Œ<code>?.</code>è¿ç®—ç¬¦å…¶å®æ˜¯ä¸‹é¢çš„è¯­æ³•ç³–ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> temp = obj.first;</span><br><span class="line"><span class="keyword">const</span> nestedProp =</span><br><span class="line">    temp === <span class="literal">null</span> || temp === <span class="literal">undefined</span> ? <span class="literal">undefined</span> : temp.second;</span><br></pre></td></tr></table></figure>

<p><code>?.</code>è¿ç®—ç¬¦ä¸å¯ä»¥ç”¨åœ¨æ²¡æœ‰å£°æ˜çš„æ ¹å¯¹è±¡ä¸Šï¼ˆå¦‚æœç”¨äº†ä¼šæŠ¥é”™ï¼‰ï¼Œä½†æ˜¯å¯ä»¥ç”¨åœ¨å·²ç»å£°æ˜çš„æ ¹å¯¹è±¡çš„æ²¡æœ‰å®šä¹‰çš„å±æ€§ä¸Šã€‚</p>
<p><img src="https://raw.githubusercontent.com/acmu/pictures/master/uPic/2022-11/04_20:00_jOkYeL.png" alt="image-2022110480049953 PM"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">b?.a;</span><br><span class="line"><span class="comment">// Uncaught ReferenceError: b is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> c = &#123;&#125;;</span><br><span class="line">c.d?.e;</span><br><span class="line"><span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>

<p>b æ˜¯æœªå®šä¹‰çš„å¯¹è±¡ï¼Œä¼šæŠ¥é”™ï¼Œc æ˜¯å®šä¹‰äº†çš„ï¼Œä¸ä¼šæŠ¥é”™ã€‚</p>
<h3 id="æ‰§è¡Œæ–¹æ³•"><a href="#æ‰§è¡Œæ–¹æ³•" class="headerlink" title="æ‰§è¡Œæ–¹æ³•"></a>æ‰§è¡Œæ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result = someInterface.customMethod?.();</span><br></pre></td></tr></table></figure>

<p>å¸¸è§äºä¸€äº› api å¯èƒ½æœªå®ç°çš„æƒ…å†µã€‚è¿™é‡Œçš„è°ƒç”¨ä¼šè¿”å› undefinedï¼Œè€Œä¸æ˜¯æŠ¥é”™ã€‚</p>
<p>æ³¨æ„ï¼šå¦‚æœ<code>customMethod</code>æ˜¯å·²ç»å­˜åœ¨çš„å±æ€§ï¼Œä½†ä¸æ˜¯æ–¹æ³•ï¼Œé‚£å³ä½¿è¿™æ ·å†™äº†ä¹Ÿæ˜¯ä¼šæŠ¥é”™çš„ã€‚</p>
<h3 id="ç”¨äºè¡¨è¾¾å¼"><a href="#ç”¨äºè¡¨è¾¾å¼" class="headerlink" title="ç”¨äºè¡¨è¾¾å¼"></a>ç”¨äºè¡¨è¾¾å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> nestedProp = obj?.[<span class="string">&#x27;prop&#x27;</span> + <span class="string">&#x27;Name&#x27;</span>];</span><br></pre></td></tr></table></figure>

<p>å¸¸ç”¨äºæ•°ç»„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printMagicIndex</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(arr?.[<span class="number">42</span>]);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printMagicIndex([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]); <span class="comment">// undefined</span></span><br><span class="line">printMagicIndex(); <span class="comment">// undefined; if not using ?., this would throw</span></span><br></pre></td></tr></table></figure>

<p><code>?.</code>è¿ç®—ç¬¦æ˜¯ä¸èƒ½åœ¨èµ‹å€¼å·¦ä¾§ä½¿ç”¨çš„ï¼Œä½†<code>.</code>è¿ç®—ç¬¦æ˜¯å¯ä»¥çš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> object = &#123;&#125;;</span><br><span class="line">object?.property = <span class="number">1</span>; <span class="comment">// SyntaxError: Invalid left-hand side in assignmen</span></span><br></pre></td></tr></table></figure>

<h3 id="çŸ­è·¯æ“ä½œ"><a href="#çŸ­è·¯æ“ä½œ" class="headerlink" title="çŸ­è·¯æ“ä½œ"></a>çŸ­è·¯æ“ä½œ</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> potentiallyNullObj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">let</span> x = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> prop = potentiallyNullObj?.[x++];</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(x); <span class="comment">// 0 as x was not incremented</span></span><br></pre></td></tr></table></figure>

<p>å¦‚æœ<code>?.</code>å‰é¢çš„å†…å®¹æ˜¯ nullishï¼Œé‚£ä¹ˆå°±ä¸ä¼šæ‰§è¡Œåé¢çš„è¡¨è¾¾å¼ï¼Œåç»­çš„å±æ€§è®¿é—®ä¹ŸåŒæ ·ä¸ä¼šæ‰§è¡Œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> potentiallyNullObj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> prop = potentiallyNullObj?.a.b;</span><br><span class="line"><span class="comment">// This does not throw, because evaluation has already stopped at</span></span><br><span class="line"><span class="comment">// the first optional chain</span></span><br></pre></td></tr></table></figure>

<p>å…¶å®å°±æ˜¯ä¸‹é¢çš„ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> potentiallyNullObj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> prop =</span><br><span class="line">    potentiallyNullObj === <span class="literal">null</span> || potentiallyNullObj === <span class="literal">undefined</span></span><br><span class="line">        ? <span class="literal">undefined</span></span><br><span class="line">        : potentiallyNullObj.a.b;</span><br></pre></td></tr></table></figure>

<p>ä½†ä½ å¦‚æœç”¨æ‹¬å·æå‡ä¼˜å…ˆçº§ï¼Œé‚£ä¹ˆæ˜¯æœ‰å¯èƒ½æŠ¥é”™çš„ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> potentiallyNullObj = <span class="literal">null</span>;</span><br><span class="line"><span class="keyword">const</span> prop = (potentiallyNullObj?.a).b;</span><br></pre></td></tr></table></figure>

<h2 id="ç¤ºä¾‹"><a href="#ç¤ºä¾‹" class="headerlink" title="ç¤ºä¾‹"></a>ç¤ºä¾‹</h2><h3 id="ç”¨äºå¯é€‰çš„å›è°ƒå‡½æ•°"><a href="#ç”¨äºå¯é€‰çš„å›è°ƒå‡½æ•°" class="headerlink" title="ç”¨äºå¯é€‰çš„å›è°ƒå‡½æ•°"></a>ç”¨äºå¯é€‰çš„å›è°ƒå‡½æ•°</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Code written without optional chaining</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">onContent, onError</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Do something with the data</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="comment">// Testing if onError really exists</span></span><br><span class="line">        <span class="keyword">if</span> (onError) &#123;</span><br><span class="line">            onError(err.message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å› ä¸ºè¿™é‡Œ onError å¯èƒ½æ²¡æœ‰ä¼ å€¼ï¼Œæ‰€ä»¥è¦åˆ¤æ–­ä¸‹ï¼Œä½†å¦‚æœç”¨å¯é€‰é“¾ï¼Œå°±æ¯”è¾ƒç®€å•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Using optional chaining with function calls</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span>(<span class="params">onContent, onError</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// Do something with the data</span></span><br><span class="line">    &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        onError?.(err.message); <span class="comment">// No exception if onError is undefined</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è¿ç»­å¯é€‰é“¾"><a href="#è¿ç»­å¯é€‰é“¾" class="headerlink" title="è¿ç»­å¯é€‰é“¾"></a>è¿ç»­å¯é€‰é“¾</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> customerCity = customer.details?.address?.city;</span><br></pre></td></tr></table></figure>

<h3 id="ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ç»“åˆä½¿ç”¨"><a href="#ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ç»“åˆä½¿ç”¨" class="headerlink" title="ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ç»“åˆä½¿ç”¨"></a>ä¸ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ç»“åˆä½¿ç”¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">printCustomerCity</span>(<span class="params">customer</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> customerCity = customer?.city ?? <span class="string">&#x27;Unknown city&#x27;</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(customerCity);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">printCustomerCity(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Nathan&#x27;</span>,</span><br><span class="line">    <span class="attr">city</span>: <span class="string">&#x27;Paris&#x27;</span>,</span><br><span class="line">&#125;); <span class="comment">// &quot;Paris&quot;</span></span><br><span class="line">printCustomerCity(&#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&#x27;Carl&#x27;</span>,</span><br><span class="line">    <span class="attr">details</span>: &#123; <span class="attr">age</span>: <span class="number">82</span> &#125;,</span><br><span class="line">&#125;); <span class="comment">// &quot;Unknown city&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"><a href="#ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦" class="headerlink" title="ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦"></a>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦</h2><p>ç©ºå€¼åˆå¹¶è¿ç®—ç¬¦ å³<code>??</code>ï¼Œå®ƒçš„ä½œç”¨æ˜¯å¦‚æœ<code>??</code>å·¦è¾¹æ˜¯ nullishï¼Œé‚£ä¹ˆè¿”å›å³è¾¹ï¼Œå¦åˆ™è¿”å›å·¦è¾¹ï¼Œå®ƒå’Œ<code>||</code>è¿ç®—ç¬¦å¾ˆç›¸ä¼¼ï¼Œ<code>||</code>è¿ç®—ç¬¦å·¦è¾¹æ˜¯ Falsy çš„è¯è¿”å›å³è¾¹ï¼Œå¦åˆ™è¿”å›å·¦è¾¹ã€‚</p>
<p>å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining">Optional chaining (?.)</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Nullish">nullish</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Glossary/Falsy">Falsy</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Nullish_coalescing">Nullish coalescing operator (??)</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://acmu.github.io/2022/11/04/JavaScript/%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6/" data-id="clf0n06s9001qb2of6azihv2e" data-title="å¯é€‰é“¾è¿ç®—ç¬¦" class="article-share-link">åˆ†äº«</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/my-blog/tags/JavaScript/" rel="tag">JavaScript</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/my-blog/2022/11/05/JavaScript/JavaScript%20%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">å‰ä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          JavaScript çš„å¯¹è±¡ä¸ç»§æ‰¿
        
      </div>
    </a>
  
  
    <a href="/my-blog/2022/08/03/JavaScript/JavaScript%20%E5%AF%B9%E8%B1%A1%E8%A7%A3%E8%AF%BB/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">åä¸€ç¯‡</strong>
      <div class="article-nav-title">JavaScript å¯¹è±¡è§£è¯»</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/JavaScript/" rel="tag">JavaScript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/TS/" rel="tag">TS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/%E5%88%B7%E9%A2%98/" rel="tag">åˆ·é¢˜</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/%E5%91%A8%E5%88%8A/" rel="tag">å‘¨åˆŠ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" rel="tag">å·¥ç¨‹åŒ–</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" rel="tag">æ•ˆç‡å·¥å…·</a></li><li class="tag-list-item"><a class="tag-list-link" href="/my-blog/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" rel="tag">æµè§ˆå™¨</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æ ‡ç­¾äº‘</h3>
    <div class="widget tagcloud">
      <a href="/my-blog/tags/JavaScript/" style="font-size: 16.67px;">JavaScript</a> <a href="/my-blog/tags/TS/" style="font-size: 10px;">TS</a> <a href="/my-blog/tags/%E5%88%B7%E9%A2%98/" style="font-size: 10px;">åˆ·é¢˜</a> <a href="/my-blog/tags/%E5%91%A8%E5%88%8A/" style="font-size: 20px;">å‘¨åˆŠ</a> <a href="/my-blog/tags/%E5%B7%A5%E7%A8%8B%E5%8C%96/" style="font-size: 10px;">å·¥ç¨‹åŒ–</a> <a href="/my-blog/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 13.33px;">æ•ˆç‡å·¥å…·</a> <a href="/my-blog/tags/%E6%B5%8F%E8%A7%88%E5%99%A8/" style="font-size: 13.33px;">æµè§ˆå™¨</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">å½’æ¡£</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/11/">åä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/08/">å…«æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/07/">ä¸ƒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/03/">ä¸‰æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/02/">äºŒæœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2022/01/">ä¸€æœˆ 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2021/12/">åäºŒæœˆ 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2020/09/">ä¹æœˆ 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/my-blog/archives/2020/08/">å…«æœˆ 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">æœ€æ–°æ–‡ç« </h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/my-blog/2022/11/16/JavaScript/kind-of%E6%BA%90%E7%A0%81/">å‘¨ä¸‹è½½é‡è¶…1äº¿çš„åº“æ˜¯å¦‚ä½•åˆ¤æ–­JSç±»å‹çš„ï¼Ÿ</a>
          </li>
        
          <li>
            <a href="/my-blog/2022/11/10/weekly/10/">æ˜è¿œè§†è§’ï¼šå‰ç«¯è„šæ‰‹æ¶å¼€å‘å…¥é—¨</a>
          </li>
        
          <li>
            <a href="/my-blog/2022/11/09/JavaScript/%E4%BD%BF%E7%94%A8%20npm%20link%20%E8%B0%83%E8%AF%95%E5%8C%85/">ä½¿ç”¨ npm link è°ƒè¯•åŒ…</a>
          </li>
        
          <li>
            <a href="/my-blog/2022/11/05/JavaScript/JavaScript%20%E7%9A%84%E5%AF%B9%E8%B1%A1%E4%B8%8E%E7%BB%A7%E6%89%BF/">JavaScript çš„å¯¹è±¡ä¸ç»§æ‰¿</a>
          </li>
        
          <li>
            <a href="/my-blog/2022/11/04/JavaScript/%E5%8F%AF%E9%80%89%E9%93%BE%E6%93%8D%E4%BD%9C%E7%AC%A6/">å¯é€‰é“¾è¿ç®—ç¬¦</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 MingYuan<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/my-blog/" class="mobile-nav-link">Home</a>
  
    <a href="/my-blog/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/my-blog/js/jquery-3.4.1.min.js"></script>



  
<script src="/my-blog/fancybox/jquery.fancybox.min.js"></script>




<script src="/my-blog/js/script.js"></script>





  </div>
</body>
</html>